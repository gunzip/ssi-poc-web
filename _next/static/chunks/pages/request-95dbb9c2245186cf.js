(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{1916:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/request",function(){return t(8858)}])},8858:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return j}});var r,o,u,c,a=t(5666),i=t.n(a),s=t(5893),f=t(1163),d=t(1664),p=t(7318),h=t(7294),l=t(8767),v=t(3907),w=t(8269),x=t(7673);function m(n,e,t,r,o,u,c){try{var a=n[u](c),i=a.value}catch(s){return void t(s)}a.done?e(i):Promise.resolve(i).then(r,o)}(o=r||(r={})).JKT="jkt",o.DID="did",(c=u||(u={})).JSON_LD="w3cvc-jsonld",c.JWT="w3cvc-jwt";var y,b=(y=i().mark((function n(e){var t,r,o,u,c,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.replace(/^.*:\/\/\??/,""),r=(0,x.parse)(t),o={},n.t0=regeneratorRuntime.keys(r);case 4:if((n.t1=n.t0()).done){n.next=12;break}if(u=n.t1.value,c=r[u]){n.next=9;break}return n.abrupt("continue",4);case 9:"string"==typeof c?(a=decodeURIComponent(c)).startsWith("{")&&a.endsWith("}")?o[decodeURIComponent(u)]=JSON.parse(a):o[decodeURIComponent(u)]=a:"number"!=typeof c&&"boolean"!=typeof c||(o[decodeURIComponent(u)]=c),n.next=4;break;case 12:return n.abrupt("return",o);case 13:case"end":return n.stop()}}),n)})),function(){var n=this,e=arguments;return new Promise((function(t,r){var o=y.apply(n,e);function u(n){m(o,t,r,u,c,"next",n)}function c(n){m(o,t,r,u,c,"throw",n)}u(void 0)}))}),k=t(8764).Buffer;function g(n,e,t,r,o,u,c){try{var a=n[u](c),i=a.value}catch(s){return void t(s)}a.done?e(i):Promise.resolve(i).then(r,o)}function E(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var u=n.apply(e,t);function c(n){g(u,r,o,c,a,"next",n)}function a(n){g(u,r,o,c,a,"throw",n)}c(void 0)}))}}function R(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,o=!1,u=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!e||t.length!==e);r=!0);}catch(i){o=!0,u=i}finally{try{r||null==a.return||a.return()}finally{if(o)throw u}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _=function(n){var e=[];return new Promise((function(t,r){n.on("data",(function(n){return e.push(n)})),n.on("error",r),n.on("end",(function(){return t(k.concat(e).toString("base64"))}))}))},j=function(){var n=(0,f.useRouter)(),e=(0,h.useState)(),t=e[0],r=e[1],o=(0,h.useState)(!1),u=o[0],c=o[1],a=R((0,v.Z)("auth"),1)[0];(0,h.useEffect)((function(){setTimeout((function(){return c(!0)}),5e3)}),[]),(0,w.Z)(E(i().mark((function n(){var e,t,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(a);case 2:return e=n.sent,console.log(e),t=(0,p.image)(JSON.stringify(e),{type:"png"}),n.next=7,_(t);case 7:o=n.sent,r(o);case 9:case"end":return n.stop()}}),n)}))));var x=(0,l.useQuery)("authres",E(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://webhook.site/79636c84-8cb0-4330-b84d-974786f39119");case 2:if(!(e=n.sent).ok){n.next=7;break}return n.abrupt("return",e.text());case 7:throw new Error("ERROR");case 8:case"end":return n.stop()}}),n)}))),{enabled:u,refetchInterval:6e4,onSuccess:function(){n.push("/success")}});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["AUTHRES: ",a]}),(0,s.jsxs)("p",{children:[x.isLoading&&"loading...",x.isError&&"ERROR: ".concat(x.error),x.data]}),(0,s.jsx)("p",{children:t&&(0,s.jsx)("img",{src:"data:image/png;base64,".concat(t),style:{maxWidth:"300px"},alt:"qrcode"})}),(0,s.jsx)("p",{children:(0,s.jsx)(d.default,{href:"/",as:"/",children:(0,s.jsx)("a",{children:"INDEX"})})})]})}},2361:function(){},4616:function(){}},function(n){n.O(0,[58,774,888,179],(function(){return e=1916,n(n.s=e);var e}));var e=n.O();_N_E=e}]);