(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(r,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5075)}])},5075:function(r,t,n){"use strict";n.r(t);var e=n(5666),u=n.n(e),i=n(5893),o=n(8767),a=n(1163),c=n(3907);function s(r,t,n,e,u,i,o){try{var a=r[i](o),c=a.value}catch(s){return void n(s)}a.done?t(c):Promise.resolve(c).then(e,u)}function f(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=[],e=!0,u=!1,i=void 0;try{for(var o,a=r[Symbol.iterator]();!(e=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);e=!0);}catch(c){u=!0,i=c}finally{try{e||null==a.return||a.return()}finally{if(u)throw i}}return n}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(){var r,t=(0,a.useRouter)(),n=f((0,c.Z)("auth"),2)[1],e=(0,o.useMutation)("authres",(r=u().mark((function r(){var t;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("http://localhost/signup");case 2:if(t=r.sent,console.log(t.headers),200!==t.status){r.next=8;break}return r.abrupt("return",t.headers.get("location"));case 8:throw new Error("ERR: ".concat(t.status.toString()));case 9:case"end":return r.stop()}}),r)})),function(){var t=this,n=arguments;return new Promise((function(e,u){var i=r.apply(t,n);function o(r){s(i,e,u,o,a,"next",r)}function a(r){s(i,e,u,o,a,"throw",r)}o(void 0)}))}),{onSuccess:function(r){n(r),t.push("/request")}});return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Lorem ipsum..."}),e.isError&&(0,i.jsx)("h5",{onClick:function(){return e.reset()},children:e.error.toString()}),e.isLoading&&(0,i.jsx)("p",{children:"Requesting auth..."}),(0,i.jsx)("p",{children:(0,i.jsx)("button",{onClick:function(){e.mutate()},children:"START REQUEST"})})]})}},1163:function(r,t,n){r.exports=n(387)},3907:function(r,t,n){"use strict";n.d(t,{Z:function(){return o}});var e=n(7294),u=function(){};var i="undefined"!==typeof window,o=function(r,t,n){if(!i)return[t,u,u];if(!r)throw new Error("useLocalStorage key may not be falsy");var o=n?n.raw?function(r){return r}:n.deserializer:JSON.parse,a=(0,e.useRef)((function(r){try{var e=n?n.raw?String:n.serializer:JSON.stringify,u=localStorage.getItem(r);return null!==u?o(u):(t&&localStorage.setItem(r,e(t)),t)}catch(c){return t}})),c=(0,e.useState)((function(){return a.current(r)})),s=c[0],f=c[1];(0,e.useLayoutEffect)((function(){return f(a.current(r))}),[r]);var l=(0,e.useCallback)((function(t){try{var e="function"===typeof t?t(s):t;if("undefined"===typeof e)return;var u=void 0;u=n?n.raw?"string"===typeof e?e:JSON.stringify(e):n.serializer?n.serializer(e):JSON.stringify(e):JSON.stringify(e),localStorage.setItem(r,u),f(o(u))}catch(c){}}),[r,f]),h=(0,e.useCallback)((function(){try{localStorage.removeItem(r),f(void 0)}catch(c){}}),[r,f]);return[s,l,h]}}},function(r){r.O(0,[774,888,179],(function(){return t=5301,r(r.s=t);var t}));var t=r.O();_N_E=t}]);