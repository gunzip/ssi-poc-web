(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{1916:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/request",function(){return t(8)}])},8:function(n,e,t){"use strict";t.r(e);var r=t(5666),u=t.n(r),o=t(5893),c=t(1163),i=t(7318),a=t(7294),s=t(8767),f=t(3907),l=t(8269),h=t(8527),d=t(2846),p=t(8288),v=t(8764).Buffer;function w(n,e,t,r,u,o,c){try{var i=n[o](c),a=i.value}catch(s){return void t(s)}i.done?e(a):Promise.resolve(a).then(r,u)}function x(n){return function(){var e=this,t=arguments;return new Promise((function(r,u){var o=n.apply(e,t);function c(n){w(o,r,u,c,i,"next",n)}function i(n){w(o,r,u,c,i,"throw",n)}c(void 0)}))}}function m(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,u=!1,o=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done)&&(t.push(c.value),!e||t.length!==e);r=!0);}catch(a){u=!0,o=a}finally{try{r||null==i.return||i.return()}finally{if(u)throw o}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=function(n){var e=[];return new Promise((function(t,r){n.on("data",(function(n){return e.push(n)})),n.on("error",r),n.on("end",(function(){return t(v.concat(e).toString("base64"))}))}))};e.default=function(){var n=(0,c.useRouter)(),e=(0,a.useState)(),t=e[0],r=e[1],v=(0,a.useState)(!1),w=v[0],g=v[1],y=m((0,f.Z)("auth"),1)[0];return(0,a.useEffect)((function(){setTimeout((function(){return g(!0)}),2e4)}),[]),(0,l.Z)(x(u().mark((function n(){var e,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,i.image)(JSON.stringify(y),{type:"png"}),n.next=3,b(e);case 3:t=n.sent,r(t);case 5:case"end":return n.stop()}}),n)})))),(0,s.useQuery)("authres",x(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://webhook.site/79636c84-8cb0-4330-b84d-974786f39119");case 2:if(!(e=n.sent).ok){n.next=7;break}return n.abrupt("return",e.text());case 7:throw new Error("ERROR");case 8:case"end":return n.stop()}}),n)}))),{enabled:w,refetchInterval:6e4,onSuccess:function(){n.push("/success")}}),(0,o.jsxs)(h.Kq,{spacing:10,direction:["column","column","column","row"],children:[(0,o.jsx)(h.gC,{pt:5,spacing:10,children:(0,o.jsxs)(h.W2,{centerContent:!0,children:[(0,o.jsx)(h.xv,{as:"p",mb:5,size:"m",fontWeight:"bold",children:"Inquadra il QRCode per autorizzare la richiesta con IO Wallet."}),t&&(0,o.jsx)("img",{src:"data:image/png;base64,".concat(t),style:{maxWidth:"300px"},alt:"qrcode"})]})}),(0,o.jsx)(h.xu,{children:(0,o.jsx)(d.m$.img,{src:"".concat(p.V,"/avis-sangue.jpeg"),borderRadius:"2xl"})})]})}},2361:function(){},4616:function(){}},function(n){n.O(0,[326,774,888,179],(function(){return e=1916,n(n.s=e);var e}));var e=n.O();_N_E=e}]);